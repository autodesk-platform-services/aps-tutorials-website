import EnvTabs from '@site/src/components/EnvTabs.js';

import NodeJsVsCodeHubs from './_shared/nodejs-vscode/admin/account-admin.mdx';
import NodeJsVsCodeEndpoints from './_shared/nodejs-vscode/admin/endpoints.mdx';

import DotNetPlaceHolder from './_shared/dotnet-place-holder.mdx';

# Account Admin

Now, it's time to implement our server to support Account Admin access, in this step, we'll 
continue extend our server based on [Account Admin APIs](https://aps.autodesk.com/en/docs/acc/v1/overview/field-guide/admin/)
to FETCH and CREATE the data of ACC Projects and Users:

## Projects & Users

First, let's add a couple of helper methods for getting and importing projects and users:

<EnvTabs NodeJsVsCode={NodeJsVsCodeHubs} DotNetVsCode={DotNetPlaceHolder} DotNetVs2022={DotNetPlaceHolder} />

## Server endpoints

Next, let's expose the new functionality to the client-side code through another
set of endpoints.

<EnvTabs NodeJsVsCode={NodeJsVsCodeEndpoints} DotNetVsCode={DotNetPlaceHolder} DotNetVs2022={DotNetPlaceHolder} />

## Try it out

And that's it for the server side. Time to try it out!

Start (or restart) the app from Visual Studio Code as usual, 
- Use the ID of one ACC hub as you get in previous step in the address: http://localhost:8080/api/admin/projects?accountId={your-hub-id}.
In this case the server application should respond with a JSON list of all projects
available under the specified hub.
- Use the project ID as you get in previous step, try to call the address: 
http://localhost:8080/api/admin/project/users?projectId={your-project-id}, the server application should
respond with a JSON list of all the users from this project. 

:::info
You may get different project list by the 2 differnt endpoints, here are the explain:
- With Data Management API, it will return all the projects that the current user is involved.
- With Account Admin API, it will return all the projects in the account if the current user is Account Admin.
:::

![Account Admin Response](./_shared/account-admin.webp)
